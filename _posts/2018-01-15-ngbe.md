---
layout: post
authors: [frederic_ghijselinck, orjan_de_smet]
title: 'NG-BE'
image: /img/ng-be-2017/header.png
tags: [NG-BE,Conference,Angular,JavaScript,TypeScript]
category: Conference
comments: true
---

****

<img class="image fit" src="{{ '/img/ng-be-2017/ng-be-2017-collage.jpg' | prepend: site.baseurl }}" alt="NG-BE 2017 Photo Collage" />

****

## Talks

* [Pascal Precht: Angular Elements](#pascal-precht-angular-elements)
* [Uri Shaked: Building High Performance Static Website with Angular](#uri-shaked-building-high-performance-static-website-with-angular)

****

<span class="image left"><img class="p-image" alt="Pascal Precht" src="/img/ng-be-2017/speaker-pascal.jpg"></span>

### Pascal Precht: Angular Elements

Pascal Precht is co-founder of [@thoughtram](http://thoughtram.io) and [MachineLabs](https://machinelabs.ai), but also a Google Developer Expert for the Angular team.

You can find The Mighty Parrot üê¶ on Twitter using the handle [@PascalPrecht](https://twitter.com/PascalPrecht).

The slides and a demo of his presentation can be found on [pascalprecht.github.io](http://pascalprecht.github.io/slides/angular-elements).

<blockquote class="clear"><p>
Angular is ideal for building complete applications, and our tooling, documentation and infrastructure are primarily aimed at this case.
But it's quite challenging to use in scenarios that don't fit that specific Single Page Application model.
</p></blockquote>

Other use-cases where Angular is not (currently) an ideal choice are:

* **Reusability** - Reuse components across teams and projects
* **CMS Pages** - Embed standalone apps in CMS powered websites
* **Widgets** - Use Angular components in other environments

#### Solutions

In come Web Components: an umbrella-term covering four definitions of specifications trying to tackle these problems:

* Templates in HTML, declared with the &lt;template&gt;-tag and instantiated later.
* HTML being imported, which is actually mostly abandoned by major browsers.
* A Shadow DOM for DOM and Style encapsulation.
* Custom Elements that can extend the browser's vocabulary.

When talking about Web Components, it can be about one of these definitions or a combination of any of these.
Focusing on the last specification, Custom Elements.

For example, a Custom Element has a custom tag (e.g.: &lt;my-custom-element&gt;&lt;/my-custom-element&gt;).
They share the same API as native elements, with attributes, properties, methods and events.
A Custom Element also has 'Reactions', callbacks for when the element is created and loaded/un-loaded or an attribute changes.
A custom element tag is regarded as a HTMLUnknownElement until it is registered as a Custom Element.

An example of a custom element:

```javascript
class MyCustomElement extends HTMLElement {
  ...
  // Attributes
  static get observedAttributes() {
    return ['mode'];
  }
  ...
  // Properties
  get mode() {
    return this.getAttribute('mode');
  }

  set mode(val) {
    this.setAttribute('mode', val);
  }
  ...
  // Events
  emitModeChange() {
    let modeChangeEvent = new CustomEvent('mode-change', {
      detail: this.mode
    });
    this.dispatchEvent(modeChangeEvent);
  }
  ...
  // Reactions
  attributeChangedCallback(name, oldValue, newValue) {
    if (name === 'mode') {
      // do something with newValue
    }
  }
  ...
}
// Register the element
customElements.define('my-custom-element', MyCustomElement);
```

#### You said Angular?

These sound a lot like Angular Components, and that is where Angular Elements tries to combine these two technologies.
Custom Elements share a lot of similarities with an Angular Component.

* @HostBinding() ‚Üí Attributes
* @Input() ‚Üí Properties
* @Output() ‚Üí CustomEvent()
* Lifecycle Hooks ‚Üí Reactions

<blockquote class="clear"><p>
Angular Components packaged as Custom Elements.*</p>

<p><em>* kinda like Custom Elements on steroids; designed to work outside Angular apps</em>
</p></blockquote>

Using Angular Elements, it's possible to convert a Component into a Custom Element and register it.
This creates an element that is an Angular Component on the inside, but using standards on the outside.

#### Conclusion

Angular Elements makes your components usable everywhere.
It might become standalone component model for Angular.
But it's not ready yet as some things still need to be figured out (packaging, dependency management etc.)

****

<span class="image left"><img class="p-image" alt="Uri Shaked" src="/img/ng-be-2017/speaker-uri-shaked.jpg"></span>

### Uri Shaked: Building High Performance Static Website with Angular

You can find him on Twitter using the handle [@UriShaked](https://twitter.com/UriShaked).

The presentation he gave can be found [here](https://docs.google.com/presentation/d/17QG0ATttFhAPBREOQln3guw1ch6ozdWGCVWtw93ysxM/edit?usp=drivesdk).

<blockquote class="clear"><p>
Traditionally, AngularJS has been used for building rich single-page applications.
Nowadays, Angular has become a universal framework, running inside the browser, in the backend and even powering your mobile apps.
The new Angular version unlocks some interesting use-cases that were not previously possible.
In this talk, we are going to see how to set up angular-universal together with fuse-box for building scalable, high-performance static web sites, such as a blog or a landing page that can be easily deployed to gh-pages or Firebase Hosting.
Did I mention hot-reloading, offline support and Progressive Web Apps?
</p></blockquote>

Uri's personal website was writen in one big file of html.
This was hard to maintain witch resulted in an outdated website.
As we live in 2017, we can do better.
There are many static website generators, such as jekyll (Ruby).
But we're Angular Developers, so we want to do it with **Angular**!

### Static Website with Angular

Other usecases for this approuch could be a personal blog, a landing page or a documentation website.

What defines our static site with Angular?
* Component-based Architecture
* Content shows immediately - no waiting for JS
* No server-side code

We are going to do this from scratch (no Angular CLI) so we can learn how Angular applications are wired and we will use new tools like fuse-box.

### Let's Start

```bash
yarn init -y
```

Install angular packages, rxjs, typescript, core-js, zone.js:
```bash
yarn add core-js zone.js rxjs @angular/animations @angular/common @angular/compiler @angular/core @angular/http @angular/platform-browser @angular/platform-browser-dynamic @angular/platform-server
yarn add -D typescript
```

So we create **the app skeleton** by creating an *index.html*, the *AppModule and AppComponent*.
We also create a main.ts to bootstrap the Module.

Next we setup the build by creating a *tsconfig.json* and running *tsc*.

### Meet fuse-box
For setting up development we need fuse-box:
```bash
yarn add -D fuse-box
```

Why use Fuse-box:
* Bundling solution, like WebPack and SystemJS
* Super fast + HMR
* Simple + Powerful Configuration
* Built-in TypeScript support


Setting up fuse.js
Adding $bundles to index.html

-> Simple fuse.js config file
Added script tags to index.html

****


copy index.html to dist folder

Status: Still loads slow even on fast 3G

Angular-Universal

Angular-universal being used to run angular on the server of iot device. Use it to server side render it.

- BrowserModul.withServerTransation({appId: 'aaa'}) in app-module.ts

Use Server side rendering for first draw! Allows the app to display content immediately while loading the scripts.

Once the scripts are loaded, all Angular powers become available. But the first load becomes SOOOO MUCH FASTER!

What's next

- ng2-fused
- Setting up AoT: allows the scripts to load way faster (after rendering server side rendered html)
- preboot
- fuxebox-angular-universal-starter!!

github.com/urish/angular-static-site



****

## Conclusion




